{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport api from \"../services/api\";\nimport { jsxs as _jsxs, jsx as _jsx } from \"react/jsx-runtime\";\nexport default function QuizListScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    subject = _route$params.subject,\n    grade = _route$params.grade;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    quizzes = _useState2[0],\n    setQuizzes = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    fetchQuizzes();\n  }, []);\n  var fetchQuizzes = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var res = yield api.get(`/quizzes?subject=${subject.name}&grade=${grade}&type=exam`);\n        setQuizzes(res.data);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function fetchQuizzes() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var startQuiz = function startQuiz(quizId) {\n    var _route$params2;\n    var user = (_route$params2 = route.params) == null ? void 0 : _route$params2.user;\n    navigation.navigate('Game', {\n      quizId: quizId,\n      isHost: false,\n      mode: 'solo',\n      user: user\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(Text, {\n      style: styles.header,\n      children: [subject.name, \" - \", grade, \". Sinif\"]\n    }), loading ? _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"#4a148c\"\n    }) : quizzes.length === 0 ? _jsx(Text, {\n      style: styles.emptyText,\n      children: \"Bu kateqoriyada imtahan tap\\u0131lmad\\u0131.\"\n    }) : _jsx(FlatList, {\n      data: quizzes,\n      keyExtractor: function keyExtractor(item) {\n        return (item.id || item._id).toString();\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxs(TouchableOpacity, {\n          style: styles.card,\n          onPress: function onPress() {\n            return startQuiz(item.id || item._id);\n          },\n          children: [_jsx(View, {\n            style: styles.iconCircle,\n            children: _jsx(Text, {\n              style: styles.iconText,\n              children: \"\\uD83D\\uDCDD\"\n            })\n          }), _jsxs(View, {\n            style: styles.textContainer,\n            children: [_jsx(Text, {\n              style: styles.questionText,\n              children: item.title\n            }), _jsx(Text, {\n              style: styles.desc,\n              children: item.description\n            }), _jsxs(Text, {\n              style: styles.info,\n              children: [item.questions.length, \" Sual\"]\n            })]\n          })]\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: '#f5f5f5'\n  },\n  header: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: '#4a148c',\n    textAlign: 'center'\n  },\n  card: {\n    flexDirection: 'row',\n    padding: 15,\n    backgroundColor: 'white',\n    marginBottom: 12,\n    borderRadius: 12,\n    elevation: 2,\n    alignItems: 'center'\n  },\n  iconCircle: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: '#f3e5f5',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 15\n  },\n  iconText: {\n    fontSize: 24\n  },\n  textContainer: {\n    flex: 1\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  desc: {\n    color: 'gray',\n    marginBottom: 5,\n    fontSize: 14\n  },\n  info: {\n    fontWeight: 'bold',\n    color: '#4a148c',\n    fontSize: 12\n  },\n  emptyText: {\n    textAlign: 'center',\n    marginTop: 50,\n    fontSize: 16,\n    color: 'gray',\n    fontStyle: 'italic'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","FlatList","TouchableOpacity","StyleSheet","ActivityIndicator","api","jsxs","_jsxs","jsx","_jsx","QuizListScreen","_ref","route","navigation","_route$params","params","subject","grade","_useState","_useState2","_slicedToArray","quizzes","setQuizzes","_useState3","_useState4","loading","setLoading","fetchQuizzes","_ref2","_asyncToGenerator","res","get","name","data","err","console","error","apply","arguments","startQuiz","quizId","_route$params2","user","navigate","isHost","mode","style","styles","container","children","header","size","color","length","emptyText","keyExtractor","item","id","_id","toString","renderItem","_ref3","card","onPress","iconCircle","iconText","textContainer","questionText","title","desc","description","info","questions","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","textAlign","flexDirection","borderRadius","elevation","alignItems","width","height","justifyContent","marginRight","marginTop","fontStyle"],"sources":["C:/Users/user/.gemini/antigravity/playground/warped-aphelion/mobile-app/src/screens/QuizListScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet, ActivityIndicator } from 'react-native';\r\nimport api from '../services/api';\r\n\r\nexport default function QuizListScreen({ route, navigation }) {\r\n    const { subject, grade } = route.params;\r\n    const [quizzes, setQuizzes] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        fetchQuizzes();\r\n    }, []);\r\n\r\n    const fetchQuizzes = async () => {\r\n        try {\r\n            // Filter by subject, grade AND type='exam'\r\n            const res = await api.get(`/quizzes?subject=${subject.name}&grade=${grade}&type=exam`);\r\n            setQuizzes(res.data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const startQuiz = (quizId) => {\r\n        const user = route.params?.user;\r\n        // Direct navigation to Game Screen for Self-Paced Exams\r\n        navigation.navigate('Game', { quizId, isHost: false, mode: 'solo', user });\r\n    };\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style={styles.header}>{subject.name} - {grade}. Sinif</Text>\r\n\r\n            {loading ? <ActivityIndicator size=\"large\" color=\"#4a148c\" /> : (\r\n                quizzes.length === 0 ? (\r\n                    <Text style={styles.emptyText}>Bu kateqoriyada imtahan tapƒ±lmadƒ±.</Text>\r\n                ) : (\r\n                    <FlatList\r\n                        data={quizzes}\r\n                        keyExtractor={(item) => (item.id || item._id).toString()}\r\n                        renderItem={({ item }) => (\r\n                            <TouchableOpacity style={styles.card} onPress={() => startQuiz(item.id || item._id)}>\r\n                                <View style={styles.iconCircle}>\r\n                                    <Text style={styles.iconText}>üìù</Text>\r\n                                </View>\r\n                                <View style={styles.textContainer}>\r\n                                    <Text style={styles.questionText}>{item.title}</Text>\r\n                                    <Text style={styles.desc}>{item.description}</Text>\r\n                                    <Text style={styles.info}>{item.questions.length} Sual</Text>\r\n                                </View>\r\n                            </TouchableOpacity>\r\n                        )}\r\n                    />\r\n                )\r\n            )}\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, padding: 20, backgroundColor: '#f5f5f5' },\r\n    header: { fontSize: 24, fontWeight: 'bold', marginBottom: 20, color: '#4a148c', textAlign: 'center' },\r\n    card: { flexDirection: 'row', padding: 15, backgroundColor: 'white', marginBottom: 12, borderRadius: 12, elevation: 2, alignItems: 'center' },\r\n    iconCircle: { width: 50, height: 50, borderRadius: 25, backgroundColor: '#f3e5f5', justifyContent: 'center', alignItems: 'center', marginRight: 15 },\r\n    iconText: { fontSize: 24 },\r\n    textContainer: { flex: 1 },\r\n    title: { fontSize: 18, fontWeight: 'bold', color: '#333' },\r\n    desc: { color: 'gray', marginBottom: 5, fontSize: 14 },\r\n    info: { fontWeight: 'bold', color: '#4a148c', fontSize: 12 },\r\n    emptyText: { textAlign: 'center', marginTop: 50, fontSize: 16, color: 'gray', fontStyle: 'italic' }\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}