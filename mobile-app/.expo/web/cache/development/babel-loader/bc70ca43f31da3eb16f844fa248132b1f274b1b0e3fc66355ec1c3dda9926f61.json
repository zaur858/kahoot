{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport socket from \"../services/socket\";\nimport api from \"../services/api\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function GameScreen(_ref) {\n  var _route$params2;\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    quizId = _route$params.quizId,\n    pin = _route$params.pin,\n    isHost = _route$params.isHost,\n    mode = _route$params.mode;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    questions = _useState2[0],\n    setQuestions = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentQuestionIndex = _useState4[0],\n    setCurrentQuestionIndex = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    score = _useState6[0],\n    setScore = _useState6[1];\n  var _useState7 = useState(30),\n    _useState8 = _slicedToArray(_useState7, 2),\n    timeLeft = _useState8[0],\n    setTimeLeft = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    isFinished = _useState0[0],\n    setIsFinished = _useState0[1];\n  var _useState1 = useState(((_route$params2 = route.params) == null ? void 0 : _route$params2.user) || null),\n    _useState10 = _slicedToArray(_useState1, 2),\n    gameUser = _useState10[0],\n    setGameUser = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    classicAnswer = _useState12[0],\n    setClassicAnswer = _useState12[1];\n  var _useState13 = useState(''),\n    _useState14 = _slicedToArray(_useState13, 2),\n    quizTitle = _useState14[0],\n    setQuizTitle = _useState14[1];\n  var _useState15 = useState(''),\n    _useState16 = _slicedToArray(_useState15, 2),\n    quizSubject = _useState16[0],\n    setQuizSubject = _useState16[1];\n  var _useState17 = useState([]),\n    _useState18 = _slicedToArray(_useState17, 2),\n    examDetails = _useState18[0],\n    setExamDetails = _useState18[1];\n  useEffect(function () {\n    if (!gameUser) {\n      AsyncStorage.getItem('user').then(function (data) {\n        if (data) setGameUser(JSON.parse(data));\n      });\n    }\n    fetchQuiz();\n  }, []);\n  var fetchQuiz = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      console.log('GameScreen: Fetching quiz with ID:', quizId);\n      try {\n        var _res$data$questions;\n        var res = yield api.get(`/quizzes/${quizId}`);\n        console.log('GameScreen: Quiz Data Received:', {\n          id: res.data.id,\n          title: res.data.title,\n          questionsCount: (_res$data$questions = res.data.questions) == null ? void 0 : _res$data$questions.length,\n          questions: res.data.questions\n        });\n        if (!res.data.questions || res.data.questions.length === 0) {\n          console.warn('GameScreen: Quiz has no questions!');\n          Alert.alert('X…ôta', 'Bu imtahanda sual yoxdur.');\n          navigation.goBack();\n          return;\n        }\n        setQuestions(res.data.questions);\n        setQuizTitle(res.data.title);\n        setQuizSubject(res.data.subject);\n      } catch (err) {\n        var _err$response, _err$response2, _err$response2$data;\n        console.error('GameScreen: Fetch Error:', ((_err$response = err.response) == null ? void 0 : _err$response.data) || err.message);\n        Alert.alert('X…ôta', 'ƒ∞mtahan y√ºkl…ôn…ôrk…ôn x…ôta ba≈ü verdi: ' + (((_err$response2 = err.response) == null ? void 0 : (_err$response2$data = _err$response2.data) == null ? void 0 : _err$response2$data.message) || err.message), [{\n          text: 'Geri Qayƒ±t',\n          onPress: function onPress() {\n            return navigation.goBack();\n          }\n        }]);\n      }\n    });\n    return function fetchQuiz() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    if (isFinished || questions.length === 0) return;\n    var timer = setInterval(function () {\n      setTimeLeft(function (prev) {\n        return prev > 0 ? prev - 1 : 0;\n      });\n    }, 1000);\n    return function () {\n      return clearInterval(timer);\n    };\n  }, [currentQuestionIndex, isFinished, questions]);\n  var handleAnswer = function handleAnswer(index) {\n    if (isFinished) return;\n    if (mode === 'solo') {\n      var _currentQ = questions[currentQuestionIndex];\n      var isCorrect = index === _currentQ.correctIndex;\n      var nextScore = score;\n      var newDetails = [].concat(_toConsumableArray(examDetails), [{\n        question: _currentQ.text,\n        userAnswer: _currentQ.options[index],\n        correctAnswer: _currentQ.options[_currentQ.correctIndex],\n        isCorrect: isCorrect\n      }]);\n      setExamDetails(newDetails);\n      if (isCorrect) {\n        nextScore += 100;\n        setScore(nextScore);\n        Alert.alert('Doƒüru!', '∆èla! +100 xal');\n      } else {\n        Alert.alert('Yanlƒ±≈ü', `Doƒüru cavab: ${_currentQ.options[_currentQ.correctIndex]}`);\n      }\n      nextQuestion(newDetails, nextScore);\n    } else {\n      if (isHost) return;\n      socket.emit('submit_answer', {\n        pin: pin,\n        answer: index,\n        username: 'Me'\n      });\n      Alert.alert('Cavab G√∂nd…ôrildi', 'Dig…ôr oyun√ßular g√∂zl…ônilir...');\n    }\n  };\n  var nextQuestion = function nextQuestion() {\n    var updatedDetails = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : examDetails;\n    var updatedScore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : score;\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n      setTimeLeft(30);\n    } else {\n      finishGame(updatedDetails, updatedScore);\n    }\n  };\n  var finishGame = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var finalDetails = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : examDetails;\n      var finalScore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : score;\n      setIsFinished(true);\n      var finalUserId = (gameUser == null ? void 0 : gameUser._id) || (gameUser == null ? void 0 : gameUser.id);\n      console.log('GameScreen: Finishing game. Final Score:', finalScore);\n      if (mode === 'solo' && finalUserId) {\n        try {\n          yield api.post('/auth/add-score', {\n            userId: finalUserId,\n            score: finalScore,\n            title: quizTitle,\n            subject: quizSubject,\n            quizId: quizId,\n            details: finalDetails\n          });\n          console.log('GameScreen: Score and details saved successfully');\n        } catch (err) {\n          console.error('GameScreen: Failed to save score:', err);\n        }\n      }\n    });\n    return function finishGame() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (isFinished) {\n    return _jsxs(LinearGradient, {\n      colors: ['#f3e5f5', '#fff'],\n      style: [styles.container, styles.center],\n      children: [_jsx(Text, {\n        style: styles.finishTitle,\n        children: \"\\u0130mtahan Bitdi! \\uD83C\\uDF89\"\n      }), _jsxs(Text, {\n        style: styles.scoreText,\n        children: [score, \" Xal\"]\n      }), _jsx(Text, {\n        style: styles.subText,\n        children: \"N\\u0259tic\\u0259l\\u0259riniz profiliniz\\u0259 \\u0259lav\\u0259 edildi.\"\n      }), _jsx(TouchableOpacity, {\n        style: styles.btn,\n        onPress: function onPress() {\n          return navigation.navigate('Profile', {\n            user: gameUser\n          });\n        },\n        children: _jsx(Text, {\n          style: styles.btnText,\n          children: \"Profil\\u0259 Get\"\n        })\n      })]\n    });\n  }\n  var currentQ = questions[currentQuestionIndex];\n  if (!currentQ) return _jsx(View, {\n    style: styles.center,\n    children: _jsx(Text, {\n      children: \"Y\\xFCkl\\u0259nir...\"\n    })\n  });\n  return _jsxs(LinearGradient, {\n    colors: ['#f5f5f5', '#fff'],\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsxs(Text, {\n        style: styles.qCount,\n        children: [\"Sual \", currentQuestionIndex + 1, \"/\", questions.length]\n      }), _jsx(View, {\n        style: styles.timerBox,\n        children: _jsxs(Text, {\n          style: styles.timerText,\n          children: [timeLeft, \"s\"]\n        })\n      })]\n    }), _jsxs(View, {\n      style: styles.card,\n      children: [currentQ.imageUrl && _jsx(Image, {\n        source: {\n          uri: currentQ.imageUrl\n        },\n        style: styles.questionImage,\n        resizeMode: \"contain\"\n      }), _jsx(Text, {\n        style: styles.questionText,\n        children: currentQ.text\n      })]\n    }), isHost ? _jsxs(View, {\n      style: styles.hostControls,\n      children: [_jsx(Text, {\n        style: styles.hostText,\n        children: \"Siz HOST-sunuz\"\n      }), _jsx(Button, {\n        title: \"N\\xF6vb\\u0259ti Sual\",\n        onPress: function onPress() {}\n      })]\n    }) : currentQ.questionType === 'classic' ? _jsxs(View, {\n      style: styles.classicContainer,\n      children: [_jsxs(View, {\n        style: styles.mathHelper,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.mathBtn,\n          onPress: function onPress() {\n            Alert.alert(\"√úst ƒ∞ndeks\", \"R…ôq…ôm se√ßin:\", _toConsumableArray(\"0123456789\").map(function (n) {\n              return {\n                text: n,\n                onPress: function onPress() {\n                  var map = {\n                    '0': '‚Å∞',\n                    '1': '¬π',\n                    '2': '¬≤',\n                    '3': '¬≥',\n                    '4': '‚Å¥',\n                    '5': '‚Åµ',\n                    '6': '‚Å∂',\n                    '7': '‚Å∑',\n                    '8': '‚Å∏',\n                    '9': '‚Åπ'\n                  };\n                  setClassicAnswer(function (prev) {\n                    return prev + (map[n] || n);\n                  });\n                }\n              };\n            }).concat([{\n              text: \"L…ôƒüv et\",\n              style: \"cancel\"\n            }]));\n          },\n          children: _jsx(Text, {\n            children: \"x\\u207F\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.mathBtn,\n          onPress: function onPress() {\n            Alert.alert(\"Alt ƒ∞ndeks\", \"R…ôq…ôm se√ßin:\", _toConsumableArray(\"0123456789\").map(function (n) {\n              return {\n                text: n,\n                onPress: function onPress() {\n                  var map = {\n                    '0': '‚ÇÄ',\n                    '1': '‚ÇÅ',\n                    '2': '‚ÇÇ',\n                    '3': '‚ÇÉ',\n                    '4': '‚ÇÑ',\n                    '5': '‚ÇÖ',\n                    '6': '‚ÇÜ',\n                    '7': '‚Å∑',\n                    '8': '‚Çà',\n                    '9': '‚Çâ'\n                  };\n                  setClassicAnswer(function (prev) {\n                    return prev + (map[n] || n);\n                  });\n                }\n              };\n            }).concat([{\n              text: \"L…ôƒüv et\",\n              style: \"cancel\"\n            }]));\n          },\n          children: _jsx(Text, {\n            children: \"x\\u2099\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.mathBtn,\n          onPress: function onPress() {\n            return setClassicAnswer(classicAnswer + '‚àö');\n          },\n          children: _jsx(Text, {\n            children: \"\\u221A\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.mathBtn,\n          onPress: function onPress() {\n            return setClassicAnswer(classicAnswer + 'œÄ');\n          },\n          children: _jsx(Text, {\n            children: \"\\u03C0\"\n          })\n        })]\n      }), _jsx(TextInput, {\n        placeholder: \"Cavab\\u0131n\\u0131z\\u0131 yaz\\u0131n...\",\n        value: classicAnswer,\n        onChangeText: setClassicAnswer,\n        style: styles.classicInput\n      }), _jsx(TouchableOpacity, {\n        style: styles.submitBtn,\n        onPress: function onPress() {\n          var isCorrect = classicAnswer.toLowerCase().trim() === currentQ.correctAnswer.toLowerCase().trim();\n          var nextScore = score;\n          var newDetails = [].concat(_toConsumableArray(examDetails), [{\n            question: currentQ.text,\n            userAnswer: classicAnswer,\n            correctAnswer: currentQ.correctAnswer,\n            isCorrect: isCorrect\n          }]);\n          setExamDetails(newDetails);\n          if (isCorrect) {\n            nextScore += 100;\n            setScore(nextScore);\n            Alert.alert('Doƒüru!', '∆èla! +100 xal');\n          } else {\n            Alert.alert('Yanlƒ±≈ü', `Doƒüru cavab: ${currentQ.correctAnswer}`);\n          }\n          setClassicAnswer('');\n          nextQuestion(newDetails, nextScore);\n        },\n        children: _jsx(Text, {\n          style: styles.btnText,\n          children: \"Cavab\\u0131 G\\xF6nd\\u0259r\"\n        })\n      })]\n    }) : _jsx(View, {\n      style: styles.optionsGrid,\n      children: currentQ.options.map(function (opt, idx) {\n        return _jsx(TouchableOpacity, {\n          style: [styles.optionBtn, {\n            backgroundColor: ['#e21b3c', '#1368ce', '#d89e00', '#26890c'][idx],\n            borderColor: ['#e21b3c', '#1368ce', '#d89e00', '#26890c'][idx]\n          }],\n          onPress: function onPress() {\n            return handleAnswer(idx);\n          },\n          children: _jsx(Text, {\n            style: styles.optionText,\n            children: opt\n          })\n        }, idx);\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  center: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n    marginTop: 30\n  },\n  qCount: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#555'\n  },\n  timerBox: {\n    backgroundColor: '#4a148c',\n    padding: 10,\n    borderRadius: 20,\n    width: 60,\n    alignItems: 'center'\n  },\n  timerText: {\n    color: 'white',\n    fontWeight: 'bold'\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: 20,\n    padding: 30,\n    marginBottom: 30,\n    elevation: 5\n  },\n  questionText: {\n    fontSize: 22,\n    textAlign: 'center',\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  optionsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between'\n  },\n  optionBtn: {\n    width: '48%',\n    height: 120,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 15,\n    borderRadius: 15,\n    elevation: 3,\n    borderWidth: 2\n  },\n  optionText: {\n    color: 'white',\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  finishTitle: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#4a148c',\n    marginBottom: 20\n  },\n  scoreText: {\n    fontSize: 40,\n    fontWeight: 'bold',\n    color: '#2ecc71',\n    marginBottom: 10\n  },\n  subText: {\n    fontSize: 18,\n    color: 'gray',\n    marginBottom: 30\n  },\n  btn: {\n    backgroundColor: '#4a148c',\n    paddingVertical: 15,\n    paddingHorizontal: 40,\n    borderRadius: 30\n  },\n  btnText: {\n    color: 'white',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  questionImage: {\n    width: '100%',\n    height: 200,\n    marginBottom: 15\n  },\n  classicContainer: {\n    padding: 10\n  },\n  classicInput: {\n    backgroundColor: 'white',\n    padding: 15,\n    borderRadius: 10,\n    fontSize: 18,\n    marginBottom: 15,\n    borderWidth: 1,\n    borderColor: '#ccc'\n  },\n  submitBtn: {\n    backgroundColor: '#4a148c',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  mathHelper: {\n    flexDirection: 'row',\n    marginBottom: 10,\n    backgroundColor: '#eee',\n    borderRadius: 8,\n    padding: 5,\n    flexWrap: 'wrap'\n  },\n  mathBtn: {\n    padding: 8,\n    backgroundColor: 'white',\n    borderRadius: 5,\n    marginRight: 5,\n    marginBottom: 5,\n    minWidth: 40,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: '#ddd'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","Alert","TextInput","ScrollView","Image","Button","LinearGradient","AsyncStorage","socket","api","jsx","_jsx","jsxs","_jsxs","GameScreen","_ref","_route$params2","route","navigation","_route$params","params","quizId","pin","isHost","mode","_useState","_useState2","_slicedToArray","questions","setQuestions","_useState3","_useState4","currentQuestionIndex","setCurrentQuestionIndex","_useState5","_useState6","score","setScore","_useState7","_useState8","timeLeft","setTimeLeft","_useState9","_useState0","isFinished","setIsFinished","_useState1","user","_useState10","gameUser","setGameUser","_useState11","_useState12","classicAnswer","setClassicAnswer","_useState13","_useState14","quizTitle","setQuizTitle","_useState15","_useState16","quizSubject","setQuizSubject","_useState17","_useState18","examDetails","setExamDetails","getItem","then","data","JSON","parse","fetchQuiz","_ref2","_asyncToGenerator","console","log","_res$data$questions","res","get","id","title","questionsCount","length","warn","alert","goBack","subject","err","_err$response","_err$response2","_err$response2$data","error","response","message","text","onPress","apply","arguments","timer","setInterval","prev","clearInterval","handleAnswer","index","currentQ","isCorrect","correctIndex","nextScore","newDetails","concat","_toConsumableArray","question","userAnswer","options","correctAnswer","nextQuestion","emit","answer","username","updatedDetails","undefined","updatedScore","finishGame","_ref3","finalDetails","finalScore","finalUserId","_id","post","userId","details","colors","style","styles","container","center","children","finishTitle","scoreText","subText","btn","navigate","btnText","header","qCount","timerBox","timerText","card","imageUrl","source","uri","questionImage","resizeMode","questionText","hostControls","hostText","questionType","classicContainer","mathHelper","mathBtn","map","n","placeholder","value","onChangeText","classicInput","submitBtn","toLowerCase","trim","optionsGrid","opt","idx","optionBtn","backgroundColor","borderColor","optionText","create","flex","padding","justifyContent","alignItems","flexDirection","marginBottom","marginTop","fontSize","fontWeight","color","borderRadius","width","elevation","textAlign","flexWrap","height","borderWidth","paddingVertical","paddingHorizontal","marginRight","minWidth"],"sources":["C:/Users/user/kahoot/mobile-app/src/screens/GameScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Alert, TextInput, ScrollView, Image, Button } from 'react-native';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport socket from '../services/socket';\r\nimport api from '../services/api';\r\n\r\nexport default function GameScreen({ route, navigation }) {\r\n    const { quizId, pin, isHost, mode } = route.params;\r\n    const [questions, setQuestions] = useState([]);\r\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n    const [score, setScore] = useState(0);\r\n    const [timeLeft, setTimeLeft] = useState(30);\r\n    const [isFinished, setIsFinished] = useState(false);\r\n    const [gameUser, setGameUser] = useState(route.params?.user || null);\r\n    const [classicAnswer, setClassicAnswer] = useState('');\r\n    const [quizTitle, setQuizTitle] = useState('');\r\n    const [quizSubject, setQuizSubject] = useState('');\r\n    const [examDetails, setExamDetails] = useState([]); // Track results per question\r\n\r\n    useEffect(() => {\r\n        if (!gameUser) {\r\n            AsyncStorage.getItem('user').then(data => {\r\n                if (data) setGameUser(JSON.parse(data));\r\n            });\r\n        }\r\n        fetchQuiz();\r\n    }, []);\r\n\r\n    const fetchQuiz = async () => {\r\n        console.log('GameScreen: Fetching quiz with ID:', quizId);\r\n        try {\r\n            const res = await api.get(`/quizzes/${quizId}`);\r\n            console.log('GameScreen: Quiz Data Received:', {\r\n                id: res.data.id,\r\n                title: res.data.title,\r\n                questionsCount: res.data.questions?.length,\r\n                questions: res.data.questions\r\n            });\r\n\r\n            if (!res.data.questions || res.data.questions.length === 0) {\r\n                console.warn('GameScreen: Quiz has no questions!');\r\n                Alert.alert('X…ôta', 'Bu imtahanda sual yoxdur.');\r\n                navigation.goBack();\r\n                return;\r\n            }\r\n\r\n            setQuestions(res.data.questions);\r\n            setQuizTitle(res.data.title);\r\n            setQuizSubject(res.data.subject);\r\n        } catch (err) {\r\n            console.error('GameScreen: Fetch Error:', err.response?.data || err.message);\r\n            Alert.alert('X…ôta', 'ƒ∞mtahan y√ºkl…ôn…ôrk…ôn x…ôta ba≈ü verdi: ' + (err.response?.data?.message || err.message), [\r\n                { text: 'Geri Qayƒ±t', onPress: () => navigation.goBack() }\r\n            ]);\r\n        }\r\n    };\r\n\r\n    // Timer logic\r\n    useEffect(() => {\r\n        if (isFinished || questions.length === 0) return;\r\n        const timer = setInterval(() => {\r\n            setTimeLeft((prev) => (prev > 0 ? prev - 1 : 0));\r\n        }, 1000);\r\n        return () => clearInterval(timer);\r\n    }, [currentQuestionIndex, isFinished, questions]);\r\n\r\n    const handleAnswer = (index) => {\r\n        if (isFinished) return;\r\n\r\n        if (mode === 'solo') {\r\n            const currentQ = questions[currentQuestionIndex];\r\n            const isCorrect = index === currentQ.correctIndex;\r\n            let nextScore = score;\r\n\r\n            const newDetails = [...examDetails, {\r\n                question: currentQ.text,\r\n                userAnswer: currentQ.options[index],\r\n                correctAnswer: currentQ.options[currentQ.correctIndex],\r\n                isCorrect: isCorrect\r\n            }];\r\n            setExamDetails(newDetails);\r\n\r\n            if (isCorrect) {\r\n                nextScore += 100;\r\n                setScore(nextScore);\r\n                Alert.alert('Doƒüru!', '∆èla! +100 xal');\r\n            } else {\r\n                Alert.alert('Yanlƒ±≈ü', `Doƒüru cavab: ${currentQ.options[currentQ.correctIndex]}`);\r\n            }\r\n            nextQuestion(newDetails, nextScore);\r\n        } else {\r\n            if (isHost) return;\r\n            socket.emit('submit_answer', { pin, answer: index, username: 'Me' });\r\n            Alert.alert('Cavab G√∂nd…ôrildi', 'Dig…ôr oyun√ßular g√∂zl…ônilir...');\r\n        }\r\n    };\r\n\r\n    const nextQuestion = (updatedDetails = examDetails, updatedScore = score) => {\r\n        if (currentQuestionIndex < questions.length - 1) {\r\n            setCurrentQuestionIndex(currentQuestionIndex + 1);\r\n            setTimeLeft(30);\r\n        } else {\r\n            finishGame(updatedDetails, updatedScore);\r\n        }\r\n    };\r\n\r\n    const finishGame = async (finalDetails = examDetails, finalScore = score) => {\r\n        setIsFinished(true);\r\n        const finalUserId = gameUser?._id || gameUser?.id;\r\n        console.log('GameScreen: Finishing game. Final Score:', finalScore);\r\n\r\n        if (mode === 'solo' && finalUserId) {\r\n            try {\r\n                await api.post('/auth/add-score', {\r\n                    userId: finalUserId,\r\n                    score: finalScore,\r\n                    title: quizTitle,\r\n                    subject: quizSubject,\r\n                    quizId: quizId,\r\n                    details: finalDetails\r\n                });\r\n                console.log('GameScreen: Score and details saved successfully');\r\n            } catch (err) {\r\n                console.error('GameScreen: Failed to save score:', err);\r\n            }\r\n        }\r\n    };\r\n\r\n    if (isFinished) {\r\n        return (\r\n            <LinearGradient colors={['#f3e5f5', '#fff']} style={[styles.container, styles.center]}>\r\n                <Text style={styles.finishTitle}>ƒ∞mtahan Bitdi! üéâ</Text>\r\n                <Text style={styles.scoreText}>{score} Xal</Text>\r\n                <Text style={styles.subText}>N…ôtic…ôl…ôriniz profiliniz…ô …ôlav…ô edildi.</Text>\r\n                <TouchableOpacity style={styles.btn} onPress={() => navigation.navigate('Profile', { user: gameUser })}>\r\n                    <Text style={styles.btnText}>Profil…ô Get</Text>\r\n                </TouchableOpacity>\r\n            </LinearGradient>\r\n        );\r\n    }\r\n\r\n    const currentQ = questions[currentQuestionIndex];\r\n    if (!currentQ) return <View style={styles.center}><Text>Y√ºkl…ônir...</Text></View>;\r\n\r\n    return (\r\n        <LinearGradient colors={['#f5f5f5', '#fff']} style={styles.container}>\r\n            <View style={styles.header}>\r\n                <Text style={styles.qCount}>Sual {currentQuestionIndex + 1}/{questions.length}</Text>\r\n                <View style={styles.timerBox}>\r\n                    <Text style={styles.timerText}>{timeLeft}s</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={styles.card}>\r\n                {currentQ.imageUrl && <Image source={{ uri: currentQ.imageUrl }} style={styles.questionImage} resizeMode=\"contain\" />}\r\n                <Text style={styles.questionText}>{currentQ.text}</Text>\r\n            </View>\r\n\r\n            {isHost ? (\r\n                <View style={styles.hostControls}>\r\n                    <Text style={styles.hostText}>Siz HOST-sunuz</Text>\r\n                    <Button title=\"N√∂vb…ôti Sual\" onPress={() => { }} />\r\n                </View>\r\n            ) : (\r\n                currentQ.questionType === 'classic' ? (\r\n                    <View style={styles.classicContainer}>\r\n                        <View style={styles.mathHelper}>\r\n                            <TouchableOpacity style={styles.mathBtn} onPress={() => {\r\n                                Alert.alert(\"√úst ƒ∞ndeks\", \"R…ôq…ôm se√ßin:\",\r\n                                    [...\"0123456789\"].map(n => ({\r\n                                        text: n,\r\n                                        onPress: () => {\r\n                                            const map = { '0': '‚Å∞', '1': '¬π', '2': '¬≤', '3': '¬≥', '4': '‚Å¥', '5': '‚Åµ', '6': '‚Å∂', '7': '‚Å∑', '8': '‚Å∏', '9': '‚Åπ' };\r\n                                            setClassicAnswer(prev => prev + (map[n] || n));\r\n                                        }\r\n                                    })).concat([{ text: \"L…ôƒüv et\", style: \"cancel\" }])\r\n                                );\r\n                            }}><Text>x‚Åø</Text></TouchableOpacity>\r\n                            <TouchableOpacity style={styles.mathBtn} onPress={() => {\r\n                                Alert.alert(\"Alt ƒ∞ndeks\", \"R…ôq…ôm se√ßin:\",\r\n                                    [...\"0123456789\"].map(n => ({\r\n                                        text: n,\r\n                                        onPress: () => {\r\n                                            const map = { '0': '‚ÇÄ', '1': '‚ÇÅ', '2': '‚ÇÇ', '3': '‚ÇÉ', '4': '‚ÇÑ', '5': '‚ÇÖ', '6': '‚ÇÜ', '7': '‚Å∑', '8': '‚Çà', '9': '‚Çâ' };\r\n                                            setClassicAnswer(prev => prev + (map[n] || n));\r\n                                        }\r\n                                    })).concat([{ text: \"L…ôƒüv et\", style: \"cancel\" }])\r\n                                );\r\n                            }}><Text>x‚Çô</Text></TouchableOpacity>\r\n                            <TouchableOpacity style={styles.mathBtn} onPress={() => setClassicAnswer(classicAnswer + '‚àö')}><Text>‚àö</Text></TouchableOpacity>\r\n                            <TouchableOpacity style={styles.mathBtn} onPress={() => setClassicAnswer(classicAnswer + 'œÄ')}><Text>œÄ</Text></TouchableOpacity>\r\n                        </View>\r\n                        <TextInput\r\n                            placeholder=\"Cavabƒ±nƒ±zƒ± yazƒ±n...\"\r\n                            value={classicAnswer}\r\n                            onChangeText={setClassicAnswer}\r\n                            style={styles.classicInput}\r\n                        />\r\n                        <TouchableOpacity\r\n                            style={styles.submitBtn}\r\n                            onPress={() => {\r\n                                const isCorrect = classicAnswer.toLowerCase().trim() === currentQ.correctAnswer.toLowerCase().trim();\r\n                                let nextScore = score;\r\n\r\n                                const newDetails = [...examDetails, {\r\n                                    question: currentQ.text,\r\n                                    userAnswer: classicAnswer,\r\n                                    correctAnswer: currentQ.correctAnswer,\r\n                                    isCorrect: isCorrect\r\n                                }];\r\n                                setExamDetails(newDetails);\r\n\r\n                                if (isCorrect) {\r\n                                    nextScore += 100;\r\n                                    setScore(nextScore);\r\n                                    Alert.alert('Doƒüru!', '∆èla! +100 xal');\r\n                                } else {\r\n                                    Alert.alert('Yanlƒ±≈ü', `Doƒüru cavab: ${currentQ.correctAnswer}`);\r\n                                }\r\n                                setClassicAnswer('');\r\n                                nextQuestion(newDetails, nextScore);\r\n                            }}\r\n                        >\r\n                            <Text style={styles.btnText}>Cavabƒ± G√∂nd…ôr</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                ) : (\r\n                    <View style={styles.optionsGrid}>\r\n                        {currentQ.options.map((opt, idx) => (\r\n                            <TouchableOpacity\r\n                                key={idx}\r\n                                style={[styles.optionBtn, { backgroundColor: ['#e21b3c', '#1368ce', '#d89e00', '#26890c'][idx], borderColor: ['#e21b3c', '#1368ce', '#d89e00', '#26890c'][idx] }]}\r\n                                onPress={() => handleAnswer(idx)}\r\n                            >\r\n                                <Text style={styles.optionText}>{opt}</Text>\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </View>\r\n                )\r\n            )}\r\n        </LinearGradient>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, padding: 20 },\r\n    center: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n    header: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: 20, marginTop: 30 },\r\n    qCount: { fontSize: 18, fontWeight: 'bold', color: '#555' },\r\n    timerBox: { backgroundColor: '#4a148c', padding: 10, borderRadius: 20, width: 60, alignItems: 'center' },\r\n    timerText: { color: 'white', fontWeight: 'bold' },\r\n    card: { backgroundColor: 'white', borderRadius: 20, padding: 30, marginBottom: 30, elevation: 5 },\r\n    questionText: { fontSize: 22, textAlign: 'center', fontWeight: 'bold', color: '#333' },\r\n    optionsGrid: { flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'space-between' },\r\n    optionBtn: { width: '48%', height: 120, justifyContent: 'center', alignItems: 'center', marginBottom: 15, borderRadius: 15, elevation: 3, borderWidth: 2 },\r\n    optionText: { color: 'white', fontSize: 18, fontWeight: 'bold', textAlign: 'center' },\r\n    finishTitle: { fontSize: 32, fontWeight: 'bold', color: '#4a148c', marginBottom: 20 },\r\n    scoreText: { fontSize: 40, fontWeight: 'bold', color: '#2ecc71', marginBottom: 10 },\r\n    subText: { fontSize: 18, color: 'gray', marginBottom: 30 },\r\n    btn: { backgroundColor: '#4a148c', paddingVertical: 15, paddingHorizontal: 40, borderRadius: 30 },\r\n    btnText: { color: 'white', fontSize: 18, fontWeight: 'bold' },\r\n    questionImage: { width: '100%', height: 200, marginBottom: 15 },\r\n    classicContainer: { padding: 10 },\r\n    classicInput: { backgroundColor: 'white', padding: 15, borderRadius: 10, fontSize: 18, marginBottom: 15, borderWidth: 1, borderColor: '#ccc' },\r\n    submitBtn: { backgroundColor: '#4a148c', padding: 15, borderRadius: 10, alignItems: 'center' },\r\n    mathHelper: { flexDirection: 'row', marginBottom: 10, backgroundColor: '#eee', borderRadius: 8, padding: 5, flexWrap: 'wrap' },\r\n    mathBtn: { padding: 8, backgroundColor: 'white', borderRadius: 5, marginRight: 5, marginBottom: 5, minWidth: 40, alignItems: 'center', borderWidth: 1, borderColor: '#ddd' }\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}