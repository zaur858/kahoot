{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { socket } from \"../services/socket\";\nimport api from \"../services/api\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function GameScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    isHost = _route$params.isHost,\n    quizId = _route$params.quizId,\n    pin = _route$params.pin,\n    mode = _route$params.mode;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentQuestionIndex = _useState2[0],\n    setCurrentQuestionIndex = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    questions = _useState4[0],\n    setQuestions = _useState4[1];\n  var _useState5 = useState(30),\n    _useState6 = _slicedToArray(_useState5, 2),\n    timeLeft = _useState6[0],\n    setTimeLeft = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    score = _useState8[0],\n    setScore = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    isFinished = _useState0[0],\n    setIsFinished = _useState0[1];\n  var _useState1 = useState(''),\n    _useState10 = _slicedToArray(_useState1, 2),\n    quizTitle = _useState10[0],\n    setQuizTitle = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    quizSubject = _useState12[0],\n    setQuizSubject = _useState12[1];\n  useEffect(function () {\n    console.log('GameScreen: Mounted. Params:', route.params);\n    if (quizId) {\n      console.log('GameScreen: Fetching quiz', quizId);\n      api.get(`/quizzes/${quizId}`).then(function (res) {\n        console.log('GameScreen: Quiz Data:', res.data);\n        if (!res.data.questions || res.data.questions.length === 0) {\n          Alert.alert('X…ôta', 'Bu quizd…ô sual yoxdur!');\n        }\n        setQuestions(res.data.questions || []);\n        setQuizTitle(res.data.title);\n        setQuizSubject(res.data.subject);\n      }).catch(function (err) {\n        console.error('GameScreen: Fetch Error', err);\n        Alert.alert('Error', 'Could not load quiz: ' + err.message);\n      });\n    } else {\n      console.error('GameScreen: No quizId provided!');\n    }\n  }, [quizId]);\n  useEffect(function () {\n    if (isFinished || questions.length === 0) return;\n    var timer = setInterval(function () {\n      setTimeLeft(function (prev) {\n        return prev > 0 ? prev - 1 : 0;\n      });\n    }, 1000);\n    return function () {\n      return clearInterval(timer);\n    };\n  }, [currentQuestionIndex, isFinished, questions]);\n  var handleAnswer = function handleAnswer(index) {\n    if (isFinished) return;\n    if (mode === 'solo') {\n      var _currentQ = questions[currentQuestionIndex];\n      if (index === _currentQ.correctIndex) {\n        setScore(score + 100);\n        Alert.alert('Doƒüru!', '∆èla! +100 xal');\n      } else {\n        Alert.alert('Yanlƒ±≈ü', `Doƒüru cavab: ${_currentQ.options[_currentQ.correctIndex]}`);\n      }\n      nextQuestion();\n    } else {\n      if (isHost) return;\n      socket.emit('submit_answer', {\n        pin: pin,\n        answer: index,\n        username: 'Me'\n      });\n      Alert.alert('Cavab G√∂nd…ôrildi', 'Dig…ôr oyun√ßular g√∂zl…ônilir...');\n    }\n  };\n  var nextQuestion = function nextQuestion() {\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n      setTimeLeft(30);\n    } else {\n      finishGame();\n    }\n  };\n  var finishGame = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setIsFinished(true);\n      if (mode === 'solo') {\n        try {\n          Alert.alert('Sƒ±nav Bitdi!', `√úmumi Xalƒ±nƒ±z: ${score}`);\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    });\n    return function finishGame() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var submitScore = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      navigation.goBack();\n    });\n    return function submitScore() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (!questions.length) return _jsxs(View, {\n    style: styles.center,\n    children: [_jsx(Text, {\n      children: \"Y\\xFCkl\\u0259nir...\"\n    }), _jsxs(Text, {\n      style: {\n        color: 'gray',\n        fontSize: 10,\n        marginTop: 10\n      },\n      children: [\"Quiz ID: \", quizId]\n    })]\n  });\n  if (isFinished) {\n    return _jsx(LinearGradient, {\n      colors: ['#4a148c', '#7b1fa2'],\n      style: styles.container,\n      children: _jsxs(View, {\n        style: [styles.card, {\n          alignItems: 'center'\n        }],\n        children: [_jsx(Text, {\n          style: styles.finishTitle,\n          children: \"T\\u0259brikl\\u0259r! \\uD83C\\uDF89\"\n        }), _jsxs(Text, {\n          style: styles.scoreText,\n          children: [\"Xal\\u0131n\\u0131z: \", score]\n        }), _jsxs(Text, {\n          style: styles.subText,\n          children: [\"C\\u0259mi Sual: \", questions.length]\n        }), _jsx(TouchableOpacity, {\n          style: styles.btn,\n          onPress: submitScore,\n          children: _jsx(Text, {\n            style: styles.btnText,\n            children: \"Ana Menyuya Qay\\u0131t\"\n          })\n        })]\n      })\n    });\n  }\n  var currentQ = questions[currentQuestionIndex];\n  return _jsxs(LinearGradient, {\n    colors: ['#f5f5f5', '#e0e0e0'],\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsxs(Text, {\n        style: styles.qCount,\n        children: [\"Sual \", currentQuestionIndex + 1, \"/\", questions.length]\n      }), _jsx(View, {\n        style: styles.timerBox,\n        children: _jsxs(Text, {\n          style: styles.timerText,\n          children: [timeLeft, \"s\"]\n        })\n      })]\n    }), _jsx(View, {\n      style: styles.card,\n      children: _jsx(Text, {\n        style: styles.questionText,\n        children: currentQ.text\n      })\n    }), isHost ? _jsxs(View, {\n      style: styles.hostControls,\n      children: [_jsx(Text, {\n        style: styles.hostText,\n        children: \"Siz HOST-sunuz\"\n      }), _jsx(Button, {\n        title: \"N\\xF6vb\\u0259ti Sual\",\n        onPress: function onPress() {}\n      })]\n    }) : _jsx(View, {\n      style: styles.optionsGrid,\n      children: currentQ.options.map(function (opt, idx) {\n        return _jsx(TouchableOpacity, {\n          style: [styles.optionBtn, {\n            backgroundColor: getColor(idx),\n            borderColor: getColor(idx)\n          }],\n          onPress: function onPress() {\n            return handleAnswer(idx);\n          },\n          children: _jsx(Text, {\n            style: styles.optionText,\n            children: opt\n          })\n        }, idx);\n      })\n    })]\n  });\n}\nvar getColor = function getColor(i) {\n  return ['#e21b3c', '#1368ce', '#d89e00', '#26890c'][i];\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  center: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n    marginTop: 30\n  },\n  qCount: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#555'\n  },\n  timerBox: {\n    backgroundColor: '#4a148c',\n    padding: 10,\n    borderRadius: 20,\n    width: 60,\n    alignItems: 'center'\n  },\n  timerText: {\n    color: 'white',\n    fontWeight: 'bold'\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: 20,\n    padding: 30,\n    marginBottom: 30,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 5\n    },\n    shadowOpacity: 0.2\n  },\n  questionText: {\n    fontSize: 22,\n    textAlign: 'center',\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  optionsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between'\n  },\n  optionBtn: {\n    width: '48%',\n    height: 120,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 15,\n    borderRadius: 15,\n    elevation: 3,\n    borderWidth: 2\n  },\n  optionText: {\n    color: 'white',\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  hostControls: {\n    marginTop: 20\n  },\n  hostText: {\n    textAlign: 'center',\n    marginBottom: 10,\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a148c'\n  },\n  finishTitle: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#4a148c',\n    marginBottom: 20\n  },\n  scoreText: {\n    fontSize: 40,\n    fontWeight: 'bold',\n    color: '#2ecc71',\n    marginBottom: 10\n  },\n  subText: {\n    fontSize: 18,\n    color: 'gray',\n    marginBottom: 30\n  },\n  btn: {\n    backgroundColor: '#4a148c',\n    paddingVertical: 15,\n    paddingHorizontal: 40,\n    borderRadius: 30\n  },\n  btnText: {\n    color: 'white',\n    fontSize: 18,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","TouchableOpacity","StyleSheet","Alert","Button","ScrollView","Image","TextInput","socket","api","LinearGradient","jsx","_jsx","jsxs","_jsxs","GameScreen","_ref","route","navigation","_route$params","params","isHost","quizId","pin","mode","_useState","_useState2","_slicedToArray","currentQuestionIndex","setCurrentQuestionIndex","_useState3","_useState4","questions","setQuestions","_useState5","_useState6","timeLeft","setTimeLeft","_useState7","_useState8","score","setScore","_useState9","_useState0","isFinished","setIsFinished","_useState1","_useState10","quizTitle","setQuizTitle","_useState11","_useState12","quizSubject","setQuizSubject","console","log","get","then","res","data","length","alert","title","subject","catch","err","error","message","timer","setInterval","prev","clearInterval","handleAnswer","index","currentQ","correctIndex","options","nextQuestion","emit","answer","username","finishGame","_ref2","_asyncToGenerator","apply","arguments","submitScore","_ref3","goBack","style","styles","center","children","color","fontSize","marginTop","colors","container","card","alignItems","finishTitle","scoreText","subText","btn","onPress","btnText","header","qCount","timerBox","timerText","questionText","text","hostControls","hostText","optionsGrid","map","opt","idx","optionBtn","backgroundColor","getColor","borderColor","optionText","i","create","flex","padding","justifyContent","flexDirection","marginBottom","fontWeight","borderRadius","width","elevation","shadowColor","shadowOffset","height","shadowOpacity","textAlign","flexWrap","borderWidth","paddingVertical","paddingHorizontal"],"sources":["C:/Users/user/.gemini/antigravity/playground/warped-aphelion/mobile-app/src/screens/GameScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Alert, Button, ScrollView, Image, TextInput } from 'react-native';\r\nimport { socket } from '../services/socket';\r\nimport api from '../services/api';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\n\r\nexport default function GameScreen({ route, navigation }) {\r\n    const { isHost, quizId, pin, mode } = route.params; // mode: 'solo' or undefined (live)\r\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n    const [questions, setQuestions] = useState([]);\r\n    const [timeLeft, setTimeLeft] = useState(30);\r\n    const [score, setScore] = useState(0);\r\n    const [isFinished, setIsFinished] = useState(false);\r\n    const [quizTitle, setQuizTitle] = useState('');\r\n    const [quizSubject, setQuizSubject] = useState('');\r\n\r\n    // Fetch quiz data\r\n    useEffect(() => {\r\n        console.log('GameScreen: Mounted. Params:', route.params);\r\n        if (quizId) {\r\n            console.log('GameScreen: Fetching quiz', quizId);\r\n            api.get(`/quizzes/${quizId}`).then(res => {\r\n                console.log('GameScreen: Quiz Data:', res.data);\r\n                if (!res.data.questions || res.data.questions.length === 0) {\r\n                    Alert.alert('X…ôta', 'Bu quizd…ô sual yoxdur!');\r\n                }\r\n                setQuestions(res.data.questions || []);\r\n                setQuizTitle(res.data.title);\r\n                setQuizSubject(res.data.subject);\r\n            }).catch(err => {\r\n                console.error('GameScreen: Fetch Error', err);\r\n                Alert.alert('Error', 'Could not load quiz: ' + err.message);\r\n            });\r\n        } else {\r\n            console.error('GameScreen: No quizId provided!');\r\n        }\r\n    }, [quizId]);\r\n\r\n    // Timer logic (Optional for solo, strictly enforced for live)\r\n    useEffect(() => {\r\n        if (isFinished || questions.length === 0) return;\r\n        const timer = setInterval(() => {\r\n            setTimeLeft((prev) => (prev > 0 ? prev - 1 : 0));\r\n        }, 1000);\r\n        return () => clearInterval(timer);\r\n    }, [currentQuestionIndex, isFinished, questions]);\r\n\r\n    const handleAnswer = (index) => {\r\n        if (isFinished) return;\r\n\r\n        // SOLO MODE LOGIC\r\n        if (mode === 'solo') {\r\n            const currentQ = questions[currentQuestionIndex];\r\n            if (index === currentQ.correctIndex) {\r\n                setScore(score + 100); // 100 pts per correct answer\r\n                Alert.alert('Doƒüru!', '∆èla! +100 xal');\r\n            } else {\r\n                Alert.alert('Yanlƒ±≈ü', `Doƒüru cavab: ${currentQ.options[currentQ.correctIndex]}`);\r\n            }\r\n            nextQuestion();\r\n        }\r\n        // LIVE GAME LOGIC\r\n        else {\r\n            if (isHost) return;\r\n            socket.emit('submit_answer', { pin, answer: index, username: 'Me' });\r\n            Alert.alert('Cavab G√∂nd…ôrildi', 'Dig…ôr oyun√ßular g√∂zl…ônilir...');\r\n        }\r\n    };\r\n\r\n    const nextQuestion = () => {\r\n        if (currentQuestionIndex < questions.length - 1) {\r\n            setCurrentQuestionIndex(currentQuestionIndex + 1);\r\n            setTimeLeft(30); // Reset timer\r\n        } else {\r\n            finishGame();\r\n        }\r\n    };\r\n\r\n    const finishGame = async () => {\r\n        setIsFinished(true);\r\n        if (mode === 'solo') {\r\n            // Save Score to Backend\r\n            try {\r\n                // Assuming we stored user ID in global state or params. \r\n                // For now, let's assume we can get it or pass it. \r\n                // Since this is a quick fix, let's use a placeholder or check previous screen params.\r\n                // ideally: const user = useContext(AuthContext);\r\n                // We will just alert for now or try to post if we had the ID.\r\n\r\n                // Let's hardcode a success message since we need userId to save.\r\n                // To fix properly, we need to pass 'userId' from QuizListScreen -> GameScreen.\r\n                Alert.alert('Sƒ±nav Bitdi!', `√úmumi Xalƒ±nƒ±z: ${score}`);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    };\r\n\r\n    const submitScore = async () => {\r\n        // Navigation back\r\n        navigation.goBack();\r\n    }\r\n\r\n    if (!questions.length) return (\r\n        <View style={styles.center}>\r\n            <Text>Y√ºkl…ônir...</Text>\r\n            <Text style={{ color: 'gray', fontSize: 10, marginTop: 10 }}>Quiz ID: {quizId}</Text>\r\n        </View>\r\n    );\r\n\r\n    if (isFinished) {\r\n        return (\r\n            <LinearGradient colors={['#4a148c', '#7b1fa2']} style={styles.container}>\r\n                <View style={[styles.card, { alignItems: 'center' }]}>\r\n                    <Text style={styles.finishTitle}>T…ôbrikl…ôr! üéâ</Text>\r\n                    <Text style={styles.scoreText}>Xalƒ±nƒ±z: {score}</Text>\r\n                    <Text style={styles.subText}>C…ômi Sual: {questions.length}</Text>\r\n                    <TouchableOpacity style={styles.btn} onPress={submitScore}>\r\n                        <Text style={styles.btnText}>Ana Menyuya Qayƒ±t</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </LinearGradient>\r\n        );\r\n    }\r\n\r\n    const currentQ = questions[currentQuestionIndex];\r\n\r\n    return (\r\n        <LinearGradient colors={['#f5f5f5', '#e0e0e0']} style={styles.container}>\r\n            <View style={styles.header}>\r\n                <Text style={styles.qCount}>Sual {currentQuestionIndex + 1}/{questions.length}</Text>\r\n                <View style={styles.timerBox}>\r\n                    <Text style={styles.timerText}>{timeLeft}s</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={styles.card}>\r\n                <Text style={styles.questionText}>{currentQ.text}</Text>\r\n            </View>\r\n\r\n            {isHost ? (\r\n                <View style={styles.hostControls}>\r\n                    <Text style={styles.hostText}>Siz HOST-sunuz</Text>\r\n                    <Button title=\"N√∂vb…ôti Sual\" onPress={() => { /* Logic broadcast */ }} />\r\n                </View>\r\n            ) : (\r\n                <View style={styles.optionsGrid}>\r\n                    {currentQ.options.map((opt, idx) => (\r\n                        <TouchableOpacity\r\n                            key={idx}\r\n                            style={[styles.optionBtn, { backgroundColor: getColor(idx), borderColor: getColor(idx) }]}\r\n                            onPress={() => handleAnswer(idx)}\r\n                        >\r\n                            <Text style={styles.optionText}>{opt}</Text>\r\n                        </TouchableOpacity>\r\n                    ))}\r\n                </View>\r\n            )}\r\n        </LinearGradient>\r\n    );\r\n}\r\n\r\nconst getColor = (i) => ['#e21b3c', '#1368ce', '#d89e00', '#26890c'][i];\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, padding: 20 },\r\n    center: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n    header: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: 20, marginTop: 30 },\r\n    qCount: { fontSize: 18, fontWeight: 'bold', color: '#555' },\r\n    timerBox: { backgroundColor: '#4a148c', padding: 10, borderRadius: 20, width: 60, alignItems: 'center' },\r\n    timerText: { color: 'white', fontWeight: 'bold' },\r\n    card: { backgroundColor: 'white', borderRadius: 20, padding: 30, marginBottom: 30, elevation: 5, shadowColor: '#000', shadowOffset: { width: 0, height: 5 }, shadowOpacity: 0.2 },\r\n    questionText: { fontSize: 22, textAlign: 'center', fontWeight: 'bold', color: '#333' },\r\n    optionsGrid: { flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'space-between' },\r\n    optionBtn: { width: '48%', height: 120, justifyContent: 'center', alignItems: 'center', marginBottom: 15, borderRadius: 15, elevation: 3, borderWidth: 2 },\r\n    optionText: { color: 'white', fontSize: 18, fontWeight: 'bold', textAlign: 'center' },\r\n    hostControls: { marginTop: 20 },\r\n    hostText: { textAlign: 'center', marginBottom: 10, fontSize: 18, fontWeight: 'bold', color: '#4a148c' },\r\n\r\n    finishTitle: { fontSize: 32, fontWeight: 'bold', color: '#4a148c', marginBottom: 20 },\r\n    scoreText: { fontSize: 40, fontWeight: 'bold', color: '#2ecc71', marginBottom: 10 },\r\n    subText: { fontSize: 18, color: 'gray', marginBottom: 30 },\r\n    btn: { backgroundColor: '#4a148c', paddingVertical: 15, paddingHorizontal: 40, borderRadius: 30 },\r\n    btnText: { color: 'white', fontSize: 18, fontWeight: 'bold' }\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}